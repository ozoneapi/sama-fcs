{
  "scripts": [
    {
      "id": "KSA-AIS-001",
      "detail": "accounts: checks that the resource differs depending on the permissions (ReadAccountsBasic and ReadAccountsDetail)",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "permissions": [
        "ReadAccountsBasic"
      ],
      "permissions-excluded": [
        "ReadAccountsDetail"
      ],
      "uri": "/accounts",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-002",
      "detail": "accounts: Fails 404 on an invalid endpoint",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "permissions": [
        "ReadAccountsBasic"
      ],
      "uri": "/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-003",
      "detail": "accounts: minimal data returned for a given Account using the ReadAccountsBasic permission, status and headers",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic"
      ],
      "permissions-excluded": [
        "ReadAccountsDetail"
      ],
      "uri": "/accounts/$accountId",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-004",
      "detail": "accounts: checks that the resource returns the correct data depending on the permissions ReadAccountsDetail",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "permissions": [
        "ReadAccountsDetail"
      ],
      "uri": "/accounts",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-005",
      "detail": "accounts: validates that the account resource fails correctly given an invalid or incorrect token.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions-excluded": [
        "ReadAccountsBasic",
        "ReadAccountsDetail"
      ],
      "uri": "/accounts/$accountId",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-006",
      "detail": "accounts: validates that bulk account resource fails correctly given an invalid or incorrect token.",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "uri": "/accounts",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-007",
      "detail": "accounts: checks that the x-fapi-interaction-id value is played-back for an Account.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "f5a10e5e-0c46-41c5-a7b7-c8f56020520c"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsDetail"
      ],
      "uri": "/accounts/$accountId",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-008",
      "detail": "accounts: checks that the x-fapi-interaction-id value is played-back for bulk Account.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "f5a10e5e-0c46-41c5-a7b7-c8f560205200"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsDetail"
      ],
      "uri": "/accounts",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-009",
      "detail": "accounts: checks the correct response is returned 401 if no token is used on an Account.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "uri": "accounts: /accounts/$accountId",
      "uriImplementation": "mandatory",
      "resource": "Account",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-010",
      "detail": "accounts: checks the correct response is returned if no token is used on a bulk account.",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "uri": "/accounts",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-011",
      "detail": "accounts: validates that the Account resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic"
      ],
      "uri": "/accounts/$accountId/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-012",
      "detail": "balances: checks that the balances resource returns the correct data depending on the permissions granted.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBalances"
      ],
      "uri": "/accounts/$accountId/balances",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-013",
      "detail": "balances: validates that the balance resource fails correctly given an invalid permissions",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic"
      ],
      "permissions-excluded": [
        "ReadBalances"
      ],
      "uri": "/accounts/$accountId/balances",
      "method": "get",
      "asserts": [],
      "asserts_one_of": [
        "Assert_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-014",
      "detail": "balances: checks the correct response is returned when given an invalid Account for a Balance.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBalances"
      ],
      "uri": "/accounts/$accountId/balances",
      "method": "get",
      "asserts_one_of": [
        "Assert_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-015",
      "detail": "balances: checks the correct response is returned 401 using a Client Credential Grant token",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "headers": {
        "Authorization": "Bearer $client_access_token"
      },
      "uri": "/accounts/$accountId/balances",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-016",
      "description": "Fails 404 on an invalid Balance resource.",
      "detail": "balances: validates that the balance resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBalances"
      ],
      "uri": "/accounts/$accountId/balances/foobar",
      "uriImplementation": "optional",
      "resource": "Balance",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-017",
      "detail": "balances: checks that the value in the x-fapi-interaction-id response header is played-back for account Balances.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "93bac548-d2de-4546-b106-880a5018460d"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBalances"
      ],
      "uri": "/accounts/$accountId/balances",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-018",
      "detail": "beneficiaries: minimal data returned for a given Beneficiary using the ReadBeneficiariesBasic permission, status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBeneficiariesBasic"
      ],
      "uri": "/accounts/$accountId/beneficiaries",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-019",
      "detail": "beneficiaries: validates that the beneficiary resource fails correctly given an invalid permission",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions-excluded": [
        "ReadAccountsBasic",
        "ReadBeneficiariesBasic"
      ],
      "uri": "/accounts/$accountId/beneficiaries",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-020",
      "detail": "beneficiaries: checks the correct response is returned when given an invalid account for a Beneficiary.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBeneficiariesBasic"
      ],
      "uri": "/accounts/$accountId/beneficiaries",
      "method": "get",
      "asserts_one_of": [
        "KSA_Assert_UnexpectedError_400",
        "KSA_Assert_ResourceFieldInvalid_400",
        "KSA_Assert_ResourceNotFound_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-021",
      "detail": "beneficiaries: validates that the beneficiary resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBeneficiariesBasic"
      ],
      "uri": "/accounts/$accountId/beneficiaries/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-022",
      "detail": "beneficiaries: x-fapi-interaction-id is played-black for account Beneficiary.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "93bac548-d2de-4546-b106-880a5018460d"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadBeneficiariesBasic"
      ],
      "uri": "/accounts/$accountId/beneficiaries",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-023",      
      "detail": "direct-debits: checks that the resource returns the correct data depending permission ReadDirectDebits with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadDirectDebits"
      ],
      "uri": "/accounts/$accountId/direct-debits",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-024",      
      "detail": "direct-debits: checks the correct response is returned when given an invalid account for Direct Debit.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadDirectDebits"
      ],
      "uri": "/accounts/$accountId/direct-debits",
      "method": "get",
      "asserts_one_of": [
        "Assert_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-025",
      "detail": "direct-debits: validates that the Direct Debit resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadDirectDebits"
      ],
      "uri": "/accounts/$accountId/direct-debits/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-026",
      "detail": "direct-debits: checks that the value in the x-fapi-interaction-id response header is played-back for account Direct Debit.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "93bac548-d2de-4546-b106-880a5018460d"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadDirectDebits"
      ],
      "uri": "/accounts/$accountId/direct-debits",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    } ,
    {
      "id": "KSA-AIS-027",
      "detail": "parties: checks that the resource returns the correct data depending permission ReadParty with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadParty"
      ],
      "uri": "/accounts/$accountId/parties",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-028",
      "detail": "parties: checks that data is returned for ReadPartyPSU with additional schema checks, status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadPartyPSU"
      ],
      "uri": "/parties",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-029",
      "detail": "parties: checks that the resource returns the correct data depending permission ReadParty with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadParty"
      ],
      "uri": "/accounts/$accountId/parties",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-030",
      "detail": "parties: checks the correct response is returned when given an invalid account for an Party.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadParty"
      ],
      "uri": "/accounts/$accountId/parties",
      "method": "get",
      "asserts_one_of": [
        "Assert_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-031",
      "detail": "parties: validates that the party resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadParty"
      ],
      "uri": "/accounts/$accountId/parties/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-032",
      "detail": "parties: checks the correct response is returned 401 using a CCG token",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "headers": {
        "Authorization": "Bearer $client_access_token"
      },
      "uri": "/parties",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-033",
      "detail": "scheduled-payments: checks that detail level is returned resource with permission ReadScheduledPaymentsDetail",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadScheduledPaymentsDetail"
      ],
      "uri": "/accounts/$accountId/scheduled-payments",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-034",
      "detail": "scheduled-payments: checks that the bulk resource returns the correct data depending permission ReadScheduledPaymentsDetail with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadScheduledPaymentsDetail"
      ],
      "uri": "/scheduled-payments",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-035",
      "detail": "scheduled-payments: checks the correct response is returned when given an invalid account for a Scheduled Payment.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadScheduledPaymentsDetail"
      ],
      "uri": "/accounts/$accountId/scheduled-payments",
      "method": "get",
      "asserts_one_of": [
        "KSA_Assert_UnexpectedError_400",
        "KSA_Assert_ResourceFieldInvalid_400",
        "KSA_Assert_ResourceNotFound_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-036",
      "detail": "scheduled-payments: validates that the Scheduled Payment resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadScheduledPaymentsDetail"
      ],
      "uri": "/accounts/$accountId/scheduled-payments/foobar",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-037",
      "detail": "scheduled-payments: checks that the value in the x-fapi-interaction-id response header is played-back for account Product.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "93bac548-d2de-4546-b106-880a5018460d"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadScheduledPaymentsDetail"
      ],
      "uri": "/accounts/$accountId/scheduled-payments",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-038",
      "detail": "standing-orders: checks that detail level is returned resource with permission ReadStandingOrdersDetail to access the resource with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadStandingOrdersDetail"
      ],
      "uri": "/accounts/$accountId/standing-orders",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    { 
      "id": "KSA-AIS-039",
      "detail": "standing-orders: checks the correct response is returned when given an invalid account for a Standing Order.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadStandingOrdersDetail"
      ],
      "uri": "/accounts/$accountId/standing-orders",
      "method": "get",
      "asserts_one_of": [
        "KSA_Assert_UnexpectedError_400",
        "KSA_Assert_ResourceFieldInvalid_400",
        "KSA_Assert_ResourceNotFound_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-040",
      "detail": "standing-orders: validates that the Standing Order resource returns the correct status code (404 Not Found) given an invalid endpoint.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadStandingOrdersDetail"
      ],
      "uri": "/accounts/$accountId/standing-orders/foobar",
      "uriImplementation": "conditional",
      "resource": "StandingOrder",
      "asserts": [
        "Assert_404"
      ],
      "method": "get",
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-041",
      "detail": "standing-orders: checks that the value in the x-fapi-interaction-id response header is played-back for account Product.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "93bac548-d2de-4546-b106-880a5018460d"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadStandingOrdersDetail"
      ],
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "uri": "/accounts/$accountId/standing-orders",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-042",
      "detail": "transactions: checks that the resource differs depending on the permissions (ReadTransactionsBasic and ReadTransactionsDetail) used to access the resource with additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "permissions-excluded": [
        "ReadTransactionsDetail"
      ],
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "uri": "/accounts/$accountId/transactions",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-043",
      "detail": "transactions: checks that the resource returns the correct data depending on the permissions ReadTransactionsBasic with additional additional schema checks on status and headers.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadTransactionsDetail",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "uri": "/accounts/$accountId/transactions",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-044",
      "detail": "transactions: checks that the endpoint processed the query parameters and returns the expected resource format.",
      "apiVersion":">=0.0.0",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "queryParameters": {
        "fromBookingDateTime": "2020-04-23T15:47:00",
        "toBookingDateTime": "2020-04-23T15:48:00"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadTransactionsDetail",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "uri": "/accounts/$accountId/transactions",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-045",
      "detail": "transactions: checks that the endpoint processed the query parameters and returns the expected resource format.",
      "apiVersion":">=0.0.0",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "queryParameters": {
        "fromBookingDateTime": "2020-04-23T15:47:00.999",
        "toBookingDateTime": "2020-04-23T15:48:00.999"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadTransactionsDetail",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "uri": "/accounts/$accountId/transactions",
      "asserts": [
        "Assert_200",
        "Assert_FAPIHeader"
      ],
      "method": "get",
       "schemaCheck": "true"
    },
    {
      "id": "KSA-AIS-046",
      "detail": "transactions: validates that the Transaction resource fails correctly given an invalid or incorrect token.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId"
      },
      "permissions-excluded": [
        "ReadAccountsBasic",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "uri": "/accounts/$accountId/transactions",
      "method": "get",
      "asserts": [
        "Assert_401"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-047",
      "detail": "transactions: checks that the x-fapi-interaction-id value is played-back for an Transaction.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "$consentedAccountId",
        "x-fapi-interaction-id": "f5a10e5e-0c46-41c5-a7b7-c8f56020520c"
      },
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "permissions": [
        "ReadAccountsBasic",
        "ReadTransactionsBasic",
        "ReadTransactionsDebits",
        "ReadTransactionsCredits"
      ],
      "uri": "/accounts/$accountId/transactions",
      "method": "get",
      "asserts": [
        "Assert_FAPIPlayBack"
      ],
       "schemaCheck": "false"
    },
    {
      "id": "KSA-AIS-048",
      "detail": "transactions: checks the correct response is returned when given an invalid account for a Transaction.",
      "parameters": {
        "tokenRequestScope": "accounts",
        "accountId": "foobar"
      },
      "permissions": [
        "ReadTransactionsBasic",
        "ReadTransactionsDetail"
      ],
      "headers": {
        "x-fapi-interaction-id": "$x-fapi-interaction-id"
      },
      "uri": "/accounts/$accountId/transactions",
      "method": "get",
      "asserts_one_of": [
        "Assert_400",
        "Assert_403"
      ],
       "schemaCheck": "false"
    }        
  ]
}